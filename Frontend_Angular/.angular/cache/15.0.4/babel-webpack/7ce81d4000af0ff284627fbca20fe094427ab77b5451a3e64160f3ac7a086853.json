{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(loginService) {\n    this.loginService = loginService;\n    this.credentials = {\n      username: '',\n      password: ''\n    };\n  }\n  onSubmit() {\n    if (this.credentials.username != '' && this.credentials.password != '' && this.credentials.username != null && this.credentials.password != null) {\n      //token generate\n      this.loginService.generateToken(this.credentials).subscribe(response => {\n        //success\n        console.log(response.token);\n        this.loginService.loginUser(response.token);\n        window.location.href = \"/dashboard\";\n      }, error => {\n        //error\n        console.log(error);\n        alert(\"Invalid credentials!\");\n      });\n    } else {\n      alert(\"Kindly fill details\");\n    }\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 24,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-lg-4\", \"col-md-8\", \"mx-auto\"], [1, \"card\", \"mt-1\", \"bg-warning\"], [\"src\", \"https://www.w3schools.com/bootstrap4/img_avatar1.png\", \"alt\", \"Card image\", 1, \"card-img-top\", 2, \"width\", \"100%\", \"height\", \"250px\"], [1, \"card-body\"], [1, \"card-title\", \"text-center\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"email\"], [\"type\", \"text\", \"name\", \"username\", \"placeholder\", \"Enter Username\", \"id\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"pwd\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter password\", \"id\", \"pwd\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\"], [\"routerLink\", \"/change-password\", \"role\", \"button\", 1, \"btn\", \"btn-outline-danger\", \"btn-block\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"img\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"h4\", 6);\n      i0.ɵɵtext(7, \"Kitchen Story Admin Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"hr\");\n      i0.ɵɵelementStart(9, \"form\", 7);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_9_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(10, \"div\", 8)(11, \"label\", 9)(12, \"b\");\n      i0.ɵɵtext(13, \"Username:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.credentials.username = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 8)(16, \"label\", 11)(17, \"b\");\n      i0.ɵɵtext(18, \"Password:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.credentials.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"button\", 13);\n      i0.ɵɵtext(21, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"a\", 14);\n      i0.ɵɵtext(23, \"Change Password\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.credentials.username);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.credentials.password);\n    }\n  },\n  dependencies: [i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;AAQA,OAAM,MAAOA,cAAc;EAMzBC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IALhC,gBAAW,GAAG;MACZC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;KACX;EAEiD;EAElDC,QAAQ;IACN,IAAK,IAAI,CAACC,WAAW,CAACH,QAAQ,IAAI,EAAE,IAAI,IAAI,CAACG,WAAW,CAACF,QAAQ,IAAI,EAAE,IAAM,IAAI,CAACE,WAAW,CAACH,QAAQ,IAAI,IAAI,IAAI,IAAI,CAACG,WAAW,CAACF,QAAQ,IAAI,IAAK,EAAE;MACpJ;MACA,IAAI,CAACF,YAAY,CAACK,aAAa,CAAC,IAAI,CAACD,WAAW,CAAC,CAACE,SAAS,CACxDC,QAAa,IAAI;QAChB;QACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,KAAK,CAAC;QAC3B,IAAI,CAACV,YAAY,CAACW,SAAS,CAACJ,QAAQ,CAACG,KAAK,CAAC;QAC3CE,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,YAAY;MACrC,CAAC,EAAEC,KAAK,IAAG;QACT;QACAP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC;QAClBC,KAAK,CAAC,sBAAsB,CAAC;MAC/B,CAAC,CACF;KACF,MAAM;MACLA,KAAK,CAAC,qBAAqB,CAAC;;EAGhC;;AA3BWlB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCR3BC,8BAAuB;MAIPA,yBACsC;MACtCA,8BAAuB;MACgBA,yCAAyB;MAAAA,iBAAK;MACjEA,qBAAI;MACJA,+BAA8B;MAAxBA;QAAA,OAAYC,cAAU;MAAA,EAAC;MACzBD,+BAAwB;MACEA,0BAAS;MAAAA,iBAAI;MAASA,kCAEpB;MADpBA;QAAA;MAAA,EAAkC;MADMA,iBAEpB;MAE5BA,+BAAwB;MACAA,0BAAS;MAAAA,iBAAI;MAASA,kCAEpB;MADlBA;QAAA;MAAA,EAAkC;MADIA,iBAEpB;MAG1BA,mCAAwD;MAAAA,sBAAK;MAAAA,iBAAS;MACtEA,8BAAwF;MAAAA,gCAC5E;MAAAA,iBAAI;;;MAXRA,gBAAkC;MAAlCA,kDAAkC;MAKlCA,eAAkC;MAAlCA,kDAAkC","names":["LoginComponent","constructor","loginService","username","password","onSubmit","credentials","generateToken","subscribe","response","console","log","token","loginUser","window","location","href","error","alert","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\web\\Phase4_Project_Kitchen_Story-master\\Frontend_Angular\\src\\app\\Components\\login\\login.component.ts","D:\\web\\Phase4_Project_Kitchen_Story-master\\Frontend_Angular\\src\\app\\Components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { LoginService } from 'src/app/Services/login.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  credentials = {\n    username: '',\n    password: ''\n  }\n\n  constructor(private loginService: LoginService) { }\n\n  onSubmit() {\n    if ((this.credentials.username != '' && this.credentials.password != '') && (this.credentials.username != null && this.credentials.password != null)) {\n      //token generate\n      this.loginService.generateToken(this.credentials).subscribe(\n        (response: any) => {\n          //success\n          console.log(response.token);\n          this.loginService.loginUser(response.token)\n          window.location.href = \"/dashboard\"\n        }, error => {\n          //error\n          console.log(error);\n          alert(\"Invalid credentials!\")\n        }\n      )\n    } else {\n      alert(\"Kindly fill details\");\n    }\n\n  }\n\n\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-lg-4 col-md-8 mx-auto\">\n            <div class=\"card mt-1 bg-warning\">\n                <img class=\"card-img-top\" src=\"https://www.w3schools.com/bootstrap4/img_avatar1.png\" alt=\"Card image\"\n                    style=\"width:100%; height:250px;\">\n                <div class=\"card-body\">\n                    <h4 class=\"card-title text-center\">Kitchen Story Admin Login</h4>\n                    <hr>\n                    <form (ngSubmit)=\"onSubmit()\">\n                        <div class=\"form-group\">\n                            <label for=\"email\"><b>Username:</b></label> <input type=\"text\" name=\"username\"\n                                [(ngModel)]=\"credentials.username\" class=\"form-control\" placeholder=\"Enter Username\"\n                                id=\"email\" required>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"pwd\"><b>Password:</b></label> <input type=\"password\" name=\"password\"\n                                [(ngModel)]=\"credentials.password\" class=\"form-control\" placeholder=\"Enter password\"\n                                id=\"pwd\" required>\n                        </div>\n\n                        <button type=\"submit\" class=\"btn btn-primary btn-block\">Login</button>\n                        <a routerLink=\"/change-password\" role=\"button\" class=\"btn btn-outline-danger btn-block\">Change\n                            Password</a>\n                    </form>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}