{"ast":null,"code":"import { Item } from '../allitems/Items';\nimport { Order } from './order';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/user.service\";\nimport * as i2 from \"src/app/Services/admin.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction PlaceOrderComponent_button_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 56);\n    i0.ɵɵtext(1, \"Place order\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PlaceOrderComponent_button_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 57);\n    i0.ɵɵtext(1, \" Pay now \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class PlaceOrderComponent {\n  constructor(userService, adminService, route, router) {\n    this.userService = userService;\n    this.adminService = adminService;\n    this.route = route;\n    this.router = router;\n    this.product = new Item();\n    this.order = new Order();\n    this.payment = false;\n  }\n  ngOnInit() {\n    this.item = this.route.snapshot.params['name'];\n    this.adminService.getItemByName(this.item).subscribe({\n      next: item => {\n        this.product = item;\n        console.log(this.product);\n      },\n      error: error => {\n        console.log(error);\n      }\n    });\n  }\n  onPay() {\n    if (this.order.payment == \"COD\") {\n      this.payment = true;\n      return this.payment;\n    } else {\n      return this.payment = false;\n    }\n  }\n  onSubmit() {\n    if (this.order.name == null || this.order.address == null || this.order.contact == null || this.order.state == null) {\n      alert(\"Please enter the details!\");\n    } else {\n      this.order.id = new Date().getTime().toString();\n      this.order.product = this.product;\n      this.userService.orderProduct(this.order).subscribe({\n        next: product => {\n          let url = \"/order-confirm/\" + this.order.id;\n          this.router.navigateByUrl(url).then(() => {\n            location.reload();\n          });\n        },\n        error: error => {\n          console.log(error);\n        }\n      });\n    }\n  }\n}\nPlaceOrderComponent.ɵfac = function PlaceOrderComponent_Factory(t) {\n  return new (t || PlaceOrderComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.AdminService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\nPlaceOrderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PlaceOrderComponent,\n  selectors: [[\"app-place-order\"]],\n  decls: 135,\n  vars: 12,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-8\", \"mx-auto\"], [1, \"card\", \"mt-2\", \"bg-light\"], [1, \"card-header\"], [1, \"text-center\"], [1, \"card-body\"], [1, \"card-title\", \"text-center\"], [1, \"was-validated\", 3, \"ngSubmit\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"name\", \"placeholder\", \"Enter your full name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"valid-feedback\"], [1, \"invalid-feedback\"], [\"for\", \"address\"], [\"type\", \"text\", \"name\", \"address\", \"placeholder\", \"Enter your address\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"st\"], [\"type\", \"text\", \"name\", \"state\", \"placeholder\", \"Enter your state\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"cnt\"], [\"type\", \"number\", \"name\", \"contact\", \"placeholder\", \"Enter your contact\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"qty\"], [\"name\", \"quantity\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"for\", \"pmt\"], [\"name\", \"payment\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"selected\", \"\"], [\"value\", \"COD\"], [\"value\", \"Card\"], [\"type\", \"submit\", \"class\", \"btn btn-success btn-lg\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-success btn-lg\", \"data-toggle\", \"modal\", \"data-target\", \"#myModal\", 4, \"ngIf\"], [\"id\", \"myModal\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"close\"], [1, \"modal-body\"], [1, \"form-group\"], [\"for\", \"uname\"], [\"type\", \"text\", \"id\", \"uname\", \"placeholder\", \"Enter the name on card\", \"name\", \"cname\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"crd\"], [\"type\", \"number\", \"id\", \"crd\", \"placeholder\", \"Enter the card number\", \"name\", \"cnumber\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"cvvn\"], [\"type\", \"password\", \"id\", \"cvvn\", \"placeholder\", \"Enter your cvv\", \"name\", \"cvv\", \"required\", \"\", 1, \"form-control\"], [1, \"form-group\", \"form-check\"], [1, \"form-check-label\"], [\"type\", \"checkbox\", \"name\", \"remember\", \"required\", \"\", 1, \"form-check-input\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\"], [1, \"card-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"btn-lg\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#myModal\", 1, \"btn\", \"btn-success\", \"btn-lg\"]],\n  template: function PlaceOrderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"h5\", 5)(7, \"b\");\n      i0.ɵɵtext(8, \"Product: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(9);\n      i0.ɵɵelementStart(10, \"label\");\n      i0.ɵɵtext(11, \"\\u00A0\\u00A0\\u00A0 \");\n      i0.ɵɵelementStart(12, \"span\")(13, \"b\");\n      i0.ɵɵtext(14, \"Quantity: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(16, \"div\", 6)(17, \"h3\", 7);\n      i0.ɵɵtext(18, \"Please enter your details to create order:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"hr\");\n      i0.ɵɵelementStart(20, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function PlaceOrderComponent_Template_form_ngSubmit_20_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(21, \"div\", 9)(22, \"div\", 10)(23, \"label\", 11);\n      i0.ɵɵtext(24, \"Enter your full name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function PlaceOrderComponent_Template_input_ngModelChange_25_listener($event) {\n        return ctx.order.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 13);\n      i0.ɵɵtext(27, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 14);\n      i0.ɵɵtext(29, \"Please fill out this field.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 10)(31, \"label\", 15);\n      i0.ɵɵtext(32, \"Enter shipping address:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function PlaceOrderComponent_Template_input_ngModelChange_33_listener($event) {\n        return ctx.order.address = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 13);\n      i0.ɵɵtext(35, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 14);\n      i0.ɵɵtext(37, \"Please fill out this field.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 10)(39, \"label\", 17);\n      i0.ɵɵtext(40, \"Enter State:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function PlaceOrderComponent_Template_input_ngModelChange_41_listener($event) {\n        return ctx.order.state = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"div\", 13);\n      i0.ɵɵtext(43, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 14);\n      i0.ɵɵtext(45, \"Please fill out this field.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(46, \"div\", 10)(47, \"label\", 19);\n      i0.ɵɵtext(48, \"Enter Contact:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function PlaceOrderComponent_Template_input_ngModelChange_49_listener($event) {\n        return ctx.order.contact = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\", 13);\n      i0.ɵɵtext(51, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"div\", 14);\n      i0.ɵɵtext(53, \"Please fill out this field.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(54, \"div\", 10)(55, \"label\", 21);\n      i0.ɵɵtext(56, \"Select quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"select\", 22);\n      i0.ɵɵlistener(\"ngModelChange\", function PlaceOrderComponent_Template_select_ngModelChange_57_listener($event) {\n        return ctx.order.quantity = $event;\n      });\n      i0.ɵɵelementStart(58, \"option\", 23);\n      i0.ɵɵtext(59, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"option\", 24);\n      i0.ɵɵtext(61, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"option\", 25);\n      i0.ɵɵtext(63, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"option\", 26);\n      i0.ɵɵtext(65, \"4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"option\", 27);\n      i0.ɵɵtext(67, \"5\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(68, \"div\", 10)(69, \"label\", 28);\n      i0.ɵɵtext(70, \"Choose payment mode:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"select\", 29);\n      i0.ɵɵlistener(\"ngModelChange\", function PlaceOrderComponent_Template_select_ngModelChange_71_listener($event) {\n        return ctx.order.payment = $event;\n      })(\"click\", function PlaceOrderComponent_Template_select_click_71_listener() {\n        return ctx.onPay();\n      });\n      i0.ɵɵelementStart(72, \"option\", 30);\n      i0.ɵɵtext(73, \"Choose..\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(74, \"option\", 31);\n      i0.ɵɵtext(75, \"Cash On Delivery\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"option\", 32);\n      i0.ɵɵtext(77, \"Card Payment\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(78, \"div\")(79, \"div\", 5);\n      i0.ɵɵtemplate(80, PlaceOrderComponent_button_80_Template, 2, 0, \"button\", 33);\n      i0.ɵɵtemplate(81, PlaceOrderComponent_button_81_Template, 2, 0, \"button\", 34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(82, \"div\", 35)(83, \"div\", 36)(84, \"div\", 37)(85, \"div\", 38)(86, \"h4\", 39);\n      i0.ɵɵtext(87, \"Kindly enter your card details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"button\", 40);\n      i0.ɵɵtext(89, \"\\u00D7\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(90, \"div\", 41)(91, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function PlaceOrderComponent_Template_form_ngSubmit_91_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(92, \"div\", 42)(93, \"label\", 43);\n      i0.ɵɵtext(94, \"Enter the name on the card:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(95, \"input\", 44);\n      i0.ɵɵelementStart(96, \"div\", 13);\n      i0.ɵɵtext(97, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"div\", 14);\n      i0.ɵɵtext(99, \"Please fill out this field. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(100, \"div\", 42)(101, \"label\", 45);\n      i0.ɵɵtext(102, \"Enter your card number:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(103, \"input\", 46);\n      i0.ɵɵelementStart(104, \"div\", 13);\n      i0.ɵɵtext(105, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(106, \"div\", 14);\n      i0.ɵɵtext(107, \"Please fill out this field. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(108, \"div\", 42)(109, \"label\", 47);\n      i0.ɵɵtext(110, \"Enter your CVV number:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(111, \"input\", 48);\n      i0.ɵɵelementStart(112, \"div\", 13);\n      i0.ɵɵtext(113, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(114, \"div\", 14);\n      i0.ɵɵtext(115, \"Please fill out this field. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(116, \"div\", 49)(117, \"label\", 50);\n      i0.ɵɵelement(118, \"input\", 51);\n      i0.ɵɵtext(119, \" I agree to the terms and conditions. \");\n      i0.ɵɵelementStart(120, \"div\", 13);\n      i0.ɵɵtext(121, \"Valid.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(122, \"div\", 14);\n      i0.ɵɵtext(123, \"Check this checkbox to continue.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(124, \"div\")(125, \"h5\");\n      i0.ɵɵtext(126);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(127, \"button\", 52);\n      i0.ɵɵtext(128, \"Make Payment\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(129, \"div\", 53)(130, \"button\", 54);\n      i0.ɵɵtext(131, \"Cancel\");\n      i0.ɵɵelementEnd()()()()()()()();\n      i0.ɵɵelementStart(132, \"div\", 55)(133, \"h5\", 5);\n      i0.ɵɵtext(134);\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.product.name);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.product.quantity);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.name);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.address);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.state);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.contact);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.quantity);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.payment);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.payment);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.payment);\n      i0.ɵɵadvance(45);\n      i0.ɵɵtextInterpolate1(\"Payable amount = Rs. \", ctx.order.quantity * ctx.product.price, \" \");\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\"Total payable amount = Rs. \", ctx.order.quantity * ctx.product.price, \" \");\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Item","Order","i0","PlaceOrderComponent","constructor","userService","adminService","route","router","ngOnInit","item","snapshot","params","getItemByName","subscribe","next","product","console","log","error","onPay","order","payment","onSubmit","name","address","contact","state","alert","id","Date","getTime","toString","orderProduct","url","navigateByUrl","then","location","reload","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\web\\Phase4_Project_Kitchen_Story-master\\Frontend_Angular\\src\\app\\Components\\place-order\\place-order.component.ts","D:\\web\\Phase4_Project_Kitchen_Story-master\\Frontend_Angular\\src\\app\\Components\\place-order\\place-order.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AdminService } from 'src/app/Services/admin.service';\nimport { OnInit } from '@angular/core';\nimport { Item } from '../allitems/Items';\nimport { UserService } from 'src/app/Services/user.service';\nimport { Order } from './order';\n\n@Component({\n  selector: 'app-place-order',\n  templateUrl: './place-order.component.html',\n  styleUrls: ['./place-order.component.css']\n})\nexport class PlaceOrderComponent implements OnInit {\n  item!: string;\n  product: Item = new Item();\n  order: Order = new Order();\n  amount!: number;\n  public payment = false;\n  constructor(private userService: UserService, private adminService: AdminService, private route: ActivatedRoute, private router: Router) { }\n  ngOnInit(): void {\n    this.item = this.route.snapshot.params['name'];\n    this.adminService.getItemByName(this.item).subscribe({\n      next: (item) => {\n        this.product = item;\n        console.log(this.product);\n      }, error: (error) => {\n        console.log(error);\n      }\n    })\n\n  }\n  onPay(): boolean {\n    if (this.order.payment == \"COD\") {\n      this.payment = true;\n      return this.payment;\n    } else {\n      return this.payment = false;\n    }\n  }\n\n  onSubmit(): void {\n\n    if (this.order.name == null || this.order.address == null || this.order.contact == null || this.order.state == null) {\n      alert(\"Please enter the details!\");\n    } else {\n      this.order.id = new Date().getTime().toString();\n      this.order.product = this.product;\n      this.userService.orderProduct(this.order).subscribe({\n        next: (product) => {\n          let url = \"/order-confirm/\" + this.order.id;\n          this.router.navigateByUrl(url).then(() => { location.reload() });\n        }, error: (error) => {\n          console.log(error);\n        }\n      })\n    }\n  }\n\n}\n","<main>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-md-8 mx-auto\">\n                <div class=\"card mt-2 bg-light\">\n                    <div class=\"card-header\">\n                        <h5 class=\"text-center\"><b>Product:\n                            </b>{{product.name}}<label>&nbsp;&nbsp;&nbsp;\n                                <span><b>Quantity: </b>{{product.quantity}}</span></label>\n                        </h5>\n                    </div>\n                    <div class=\"card-body\">\n                        <h3 class=\"card-title text-center\">Please enter your details to create order:</h3>\n                        <hr>\n                        <form (ngSubmit)=\"onSubmit()\" class=\"was-validated\">\n                            <div class=\"form-row\">\n                                <div class=\"form-group col-md-6\">\n                                    <label for=\"name\">Enter your full name:</label> <input type=\"text\"\n                                        class=\"form-control\" [(ngModel)]=\"order.name\" name=\"name\"\n                                        placeholder=\"Enter your full name\" required>\n                                    <div class=\"valid-feedback\">Valid.</div>\n                                    <div class=\"invalid-feedback\">Please fill out this field.</div>\n                                </div>\n                                <div class=\"form-group col-md-6\">\n                                    <label for=\"address\">Enter shipping address:</label> <input type=\"text\"\n                                        class=\"form-control\" [(ngModel)]=\"order.address\" name=\"address\"\n                                        placeholder=\"Enter your address\" required>\n                                    <div class=\"valid-feedback\">Valid.</div>\n                                    <div class=\"invalid-feedback\">Please fill out this field.</div>\n                                </div>\n                                <div class=\"form-group col-md-6\">\n                                    <label for=\"st\">Enter State:</label> <input type=\"text\" class=\"form-control\"\n                                        [(ngModel)]=\"order.state\" name=\"state\" placeholder=\"Enter your state\" required>\n                                    <div class=\"valid-feedback\">Valid.</div>\n                                    <div class=\"invalid-feedback\">Please fill out this field.</div>\n                                </div>\n                                <div class=\"form-group col-md-6\">\n                                    <label for=\"cnt\">Enter Contact:</label> <input type=\"number\" class=\"form-control\"\n                                        [(ngModel)]=\"order.contact\" name=\"contact\" placeholder=\"Enter your contact\"\n                                        required>\n                                    <div class=\"valid-feedback\">Valid.</div>\n                                    <div class=\"invalid-feedback\">Please fill out this field.</div>\n                                </div>\n                                <div class=\"form-group col-md-6\">\n                                    <label for=\"qty\">Select quantity</label> <select [(ngModel)]=\"order.quantity\"\n                                        name=\"quantity\" class=\"form-control\">\n                                        <option value=\"1\">1</option>\n                                        <option value=\"2\">2</option>\n                                        <option value=\"3\">3</option>\n                                        <option value=\"4\">4</option>\n                                        <option value=\"5\">5</option>\n\n                                    </select>\n\n                                </div>\n\n                                <div class=\"form-group col-md-6\">\n                                    <label for=\"pmt\">Choose payment mode:</label><select [(ngModel)]=\"order.payment\"\n                                        (click)=\"onPay()\" name=\"payment\" class=\"form-control\">\n                                        <option selected>Choose..</option>\n                                        <option value=\"COD\">Cash On Delivery</option>\n                                        <option value=\"Card\">Card Payment</option>\n                                    </select>\n                                </div>\n\n                            </div>\n                            <div>\n                                <div class=\"text-center\"><button *ngIf=\"payment\" type=\"submit\"\n                                        class=\"btn btn-success btn-lg\">Place order</button>\n                                    <button *ngIf=\"!payment\" type=\"button\" class=\"btn btn-success btn-lg\"\n                                        data-toggle=\"modal\" data-target=\"#myModal\">\n                                        Pay now\n                                    </button>\n                                </div>\n\n                                <!-- The Modal -->\n                                <div class=\"modal fade\" id=\"myModal\">\n                                    <div class=\"modal-dialog modal-dialog-centered\">\n                                        <div class=\"modal-content\">\n\n                                            <!-- Modal Header -->\n                                            <div class=\"modal-header\">\n                                                <h4 class=\"modal-title\">Kindly enter your card details</h4>\n                                                <button type=\"button\" class=\"close\"\n                                                    data-dismiss=\"modal\">&times;</button>\n                                            </div>\n\n                                            <!-- Modal body -->\n                                            <div class=\"modal-body\">\n                                                <form (ngSubmit)=\"onSubmit()\" class=\"was-validated\">\n                                                    <div class=\"form-group\">\n                                                        <label for=\"uname\">Enter the name on the card:</label>\n                                                        <input type=\"text\" class=\"form-control\" id=\"uname\"\n                                                            placeholder=\"Enter the name on card\" name=\"cname\" required>\n                                                        <div class=\"valid-feedback\">Valid.</div>\n                                                        <div class=\"invalid-feedback\">Please fill out this field.\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"crd\">Enter your card number:</label>\n                                                        <input type=\"number\" class=\"form-control\" id=\"crd\"\n                                                            placeholder=\"Enter the card number\" name=\"cnumber\" required>\n                                                        <div class=\"valid-feedback\">Valid.</div>\n                                                        <div class=\"invalid-feedback\">Please fill out this field.\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"cvvn\">Enter your CVV number:</label>\n                                                        <input type=\"password\" class=\"form-control\" id=\"cvvn\"\n                                                            placeholder=\"Enter your cvv\" name=\"cvv\" required>\n                                                        <div class=\"valid-feedback\">Valid.</div>\n                                                        <div class=\"invalid-feedback\">Please fill out this field.\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"form-group form-check\">\n                                                        <label class=\"form-check-label\">\n                                                            <input class=\"form-check-input\" type=\"checkbox\"\n                                                                name=\"remember\" required> I agree to the terms and\n                                                            conditions.\n                                                            <div class=\"valid-feedback\">Valid.</div>\n                                                            <div class=\"invalid-feedback\">Check this checkbox to\n                                                                continue.</div>\n                                                        </label>\n                                                    </div>\n                                                    <div>\n                                                        <h5>Payable amount =\n                                                            Rs. {{(this.order.quantity) * (this.product.price)}}\n                                                        </h5>\n                                                    </div>\n                                                    <button type=\"submit\" class=\"btn btn-success\">Make Payment</button>\n                                                </form>\n                                            </div>\n\n                                            <!-- Modal footer -->\n                                            <div class=\"modal-footer\">\n                                                <button type=\"button\" class=\"btn btn-danger\"\n                                                    data-dismiss=\"modal\">Cancel</button>\n                                            </div>\n\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n\n                        </form>\n                    </div>\n                    <div class=\"card-footer\">\n                        <h5 class=\"text-center\">Total payable amount = Rs. {{(this.order.quantity) *\n                            (this.product.price)}}\n                        </h5>\n\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</main>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}